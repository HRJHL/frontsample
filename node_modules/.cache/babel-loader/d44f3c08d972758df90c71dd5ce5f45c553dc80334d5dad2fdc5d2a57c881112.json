{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'CreditContent3',\n  data() {\n    return {\n      credits: [],\n      loading: true,\n      error: null,\n      customerName: '' // User name from sessionStorage\n    };\n  },\n  mounted() {\n    this.customerName = sessionStorage.getItem(\"name\"); // Retrieve username\n    this.fetchCredits();\n  },\n  methods: {\n    async fetchCredits() {\n      try {\n        const response = await axios.post('http://127.0.0.1:8000/datab', {\n          customerName: this.customerName // Use customerName instead of userName\n        });\n        this.credits = response.data; // Assign the response data to credits\n        this.loading = false; // Update loading status\n      } catch (error) {\n        this.loading = false; // Update loading status\n        if (error.response) {\n          // Server responded with a status other than 2xx\n          console.error('Server responded with error:', error.response.data);\n        } else if (error.request) {\n          // No response was received\n          console.error('No response received:', error.request);\n        } else {\n          // Other errors\n          console.error('Error occurred:', error.message);\n        }\n        this.error = 'An error occurred while fetching credits.'; // Update error state\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","credits","loading","error","customerName","mounted","sessionStorage","getItem","fetchCredits","methods","response","post","console","request","message"],"sources":["/Users/dong-eui/Desktop/sample/sendgo/src/views/credit/CreditContent3.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center justify-center px-[12.5%] pt-[109px] pb-[200px]\" style=\"background-color: #F2F4F8\">\n    <div v-if=\"loading\">Loading...</div>\n    <div v-else>\n      <div v-if=\"credits.length\">\n        <div v-for=\"credit in credits\" :key=\"credit.id\" class=\"conbox\">\n          <p>Amount: {{ credit.amount }}</p>\n          <p>Order Name: {{ credit.order_name }}</p>\n          <p>Customer Name: {{ credit.customer_name }}</p>\n        </div>\n      </div>\n      <div v-else>\n        <p>No credit information found for this user.</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'CreditContent3',\n  data() {\n    return {\n      credits: [],\n      loading: true,\n      error: null,\n      customerName: '' // User name from sessionStorage\n    };\n  },\n  mounted() {\n    this.customerName = sessionStorage.getItem(\"name\"); // Retrieve username\n    this.fetchCredits();\n  },\n  methods: {\n    async fetchCredits() {\n      try {\n        const response = await axios.post('http://127.0.0.1:8000/datab', {\n          customerName: this.customerName, // Use customerName instead of userName\n        });\n        this.credits = response.data; // Assign the response data to credits\n        this.loading = false; // Update loading status\n      } catch (error) {\n        this.loading = false; // Update loading status\n        if (error.response) {\n          // Server responded with a status other than 2xx\n          console.error('Server responded with error:', error.response.data);\n        } else if (error.request) {\n          // No response was received\n          console.error('No response received:', error.request);\n        } else {\n          // Other errors\n          console.error('Error occurred:', error.message);\n        }\n        this.error = 'An error occurred while fetching credits.'; // Update error state\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n@media (max-width: 768px) {\n  .conbox {\n    margin-left: 0;\n    width: 100%;\n    overflow-x: scroll;\n    white-space: nowrap;\n  }\n}\n</style>\n"],"mappings":"AAmBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE,IAAI;MACXC,YAAY,EAAE,EAAC,CAAE;IACnB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACD,YAAW,GAAIE,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,EAAE;IACpD,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,YAAYA,CAAA,EAAG;MACnB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAAC,6BAA6B,EAAE;UAC/DP,YAAY,EAAE,IAAI,CAACA,YAAY,CAAE;QACnC,CAAC,CAAC;QACF,IAAI,CAACH,OAAM,GAAIS,QAAQ,CAACV,IAAI,EAAE;QAC9B,IAAI,CAACE,OAAM,GAAI,KAAK,EAAE;MACxB,EAAE,OAAOC,KAAK,EAAE;QACd,IAAI,CAACD,OAAM,GAAI,KAAK,EAAE;QACtB,IAAIC,KAAK,CAACO,QAAQ,EAAE;UAClB;UACAE,OAAO,CAACT,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAACO,QAAQ,CAACV,IAAI,CAAC;QACpE,OAAO,IAAIG,KAAK,CAACU,OAAO,EAAE;UACxB;UACAD,OAAO,CAACT,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACU,OAAO,CAAC;QACvD,OAAO;UACL;UACAD,OAAO,CAACT,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAACW,OAAO,CAAC;QACjD;QACA,IAAI,CAACX,KAAI,GAAI,2CAA2C,EAAE;MAC5D;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}